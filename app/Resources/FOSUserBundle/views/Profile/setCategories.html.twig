{% extends "ABOUserBundle::dashboardUser.html.twig" %}
{% set user = app.user %}
{% block title %}{{ 'category_setting_page.title_user'|trans({'%username%': user.name }) }}{% endblock %}
{% block options %}options={token:true};{% endblock %}

{% block content_header %}
    <div class="bread-btn">
        {#<ol class="mbreadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
            <li property="itemListElement" typeof="ListItem">
                <a href="{{ url('abo_shop_show_home', {'slug': shop.slug}) }}" property="item" typeof="WebPage">
                    <span property="name">{{ shop.name }}</span>
                </a>
                <meta property="position" content="1">
            </li>
            <li property="itemListElement" typeof="ListItem">
                <a href="{{ url('abo_shop_product_allproducts', {'slug': shop.slug}) }}" property="item" typeof="WebPage">
                    <span property="name">{{ 'matejer_main.all_product'|trans }}</span>
                </a>
                <meta property="position" content="2">
            </li>
            <li property="itemListElement" typeof="ListItem">
                <a href="{{ url('abo_shop_product_prodbycategory', {'slug': shop.slug, 'slug_cat': category.slug}) }}" property="item" typeof="WebPage">
                    <span property="name">{{ category.translatable|trans }}</span>
                </a>
                <meta property="position" content="3">
            </li>
        </ol>#}
    </div>
{% endblock %}
{% block content %}
    <div class="row" ng-controller="RemoveEditController">
        <div class="col-xs-12 col-md-4" style="margin-top: 10px;">
            <div class="box box-{[{theme}]} box-shadow">
                <div class="box-header with-border">
                    <h3 class="box-title">{{ 'category_setting_page.users'|trans }}</h3>
                    <button class="btn btn-{[{theme}]} btn-circle pull-right" ng-click="enableEdit('user')" title="{[{ tooltip }]}"><i class="fa fa-lg" ng-class="isLocked ? 'fa-lock':'fa-unlock'"></i></button>
                </div>
                <div class="box-body no-padding">
                    <table class="table table-hover">
                        <tbody>
                            {% for userCat in userCategories %}
                            <tr><td>
                                <div remove-edit item-id="{{userCat.id}}" item-name="{{userCat.category.translatable|trans}}" item-type="cat" entity="user" disable-edit="1">{{ userCat.category.translatable|trans }}</div>
                            </td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-md-8" style="margin-top: 10px;">
            <div class="box box-{[{theme}]} box-shadow">
                <div class="box-header with-border">
                    <h3 class="box-title">{{ 'category_setting_page.new_user'|trans }}</h3>
                </div>
                {% include 'ABOMainBundle:Reusable:categoryForm.html.twig' with {'form': form} %}
            </div>
        </div>
    </div>
{% endblock content %}

